<!DOCType HTML>
<html>
	<head>
		<title>Big Black Card Generator</title>
		<meta charset="UTF-8">
		<link rel="icon" href="favicon.png" sizes="32x32" type="image/png">
		<link rel="stylesheet" href="w3.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		<script src="scores.js"></script>
		<script src="cards.js"></script>
		<script>
			$(document).ready( function() {
				$("#packSubmit").on("click", function() {
					$('input[name=pack]:checked').each(function(index,element) {
						packList[element.value].enabled = true;
						loadPack(packList[element.value], cardPool);
					})
			    });

			    $("#playerSubmit").on("click", function() {
			    	$inputName = $("input[name=playerName]").val();
			    	$removeFunc = `removePlayer("` + $inputName + `", gameScoreboard)`;
			    	if (addPlayer($inputName, gameScoreboard) == 1) {
			    		//Successfully added player to scoreboard, add player name to list
			    		$("#playerList").append("<li type='none' class='w3-padding'><input class='players w3-btn w3-round w3-white w3-hover-red w3-hover-text-white w3-text-red' type='button' value='X' onclick='" + $removeFunc + "' >    " + $inputName + "</li>");
			    		$("#errorPlayer").hide();
			    	}
			    	else {
			    		//Player already exists, check if error message already present
		    			$("#errorPlayer").show();
			    	}
			    });

			    $(document).on('click','input.players',function() {
			    	//Removes a player by removing the parent div element when a button is clicked
				    $(this).parent().remove();
				});

				$("#drawCard").on("click", function() {
					//When button pressed, replaces text with a random card
					$("#cardHolder").text(drawCard(cardPool));
				});

		    	$("#toggleScoreboard").on("click", function() {
					$("#scoreboard").toggle();
		    	});

		    	$(document).on('click',"li.playerScores",function() {
			    	drawScoreboard(gameScoreboard);
			    });
		    });
		</script>
	</head>
	
	<body>
	<div id="title" class="w3-black w3-text-white w3-card-2">
		<h1>Cards Against Humanity Black Card Generator</h1>
	</div>	

	<div id="startUp" class="tab w3-center">
	<button type="button" class="w3-large w3-btn w3-round w3-black w3-text-white" autofocus onclick="menuPack()">Start New Game</button>
	</div>

	<div id="packSelect" class="tab w3-card-2" style="display:none">
		<h2 class="w3-black w3-text-white w3-card-2">Select packs to use:</h2>
		<div class="w3-row-padding">
			<div id="base" class="w3-third w3-card-2 w3-row-padding">
			<h3 class="w3-black w3-text-white w3-center">Base Packs</h3>
			</div>
			
			
			<div id="expan" class="w3-third w3-container w3-card-2">
			<h3 class="w3-black w3-text-white w3-center">Expansion Packs</h3>
			</div>

			
			<div id="misc" class="w3-third w3-container w3-card-2">
			<h3 class="w3-black w3-text-white w3-center">Misc Packs</h3>
			</div>
		</div>

		<div class="w3-center w3-bar">
			<input id="packSubmit" class="w3-btn w3-round w3-black w3-text-white" type="button" value="Done" onclick="menuPlayer()">
		</div>
		
	</div>

	<div id="addPlayers" class="tab w3-card-2" style="display: none">
		<h2>Players:</h2>
		<input type="text" name="playerName" class="w3-card-2" value="Player"><input id="playerSubmit" type="button" class="w3-round w3-btn w3-round w3-black w3-text-white" value="Add">
		<div id='errorPlayer' class='w3-panel w3-red' style="display: none">That player already exists!</div>
		<ul id="playerList" class="w3-ul w3-card-2">

		</ul>
		<br>
		<input id="playerFinished" type="button" class="w3-btn w3-round w3-black w3-text-white" value="Start the game" onclick="menuGame()">
  	</div>

	<div id="playGame" class="tab w3-card-2" style="display: none">
		<h2>Play!</h2>
		<input type="button" id="drawCard" class="w3-btn w3-round w3-black w3-text-white" value="Draw Card">
		<input type="button" id="toggleScoreboard" class="w3-btn w3-round w3-black w3-text-white" value="Toggle Scoreboard">
		<div id="scoreboard" style="display: none">
			<ul id="scoreList" class="w3-ul">
			</ul>
		</div>
		<div id="cardHolder"></div>

  	</div>

  	</body>

</html>