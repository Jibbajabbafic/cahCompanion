<!DOCType HTML>
<html>
	<head>
		<title>Big Black Card Generator.</title>
		<meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1">
		
		<!-- Favicon stuff -->
		<link rel="shortcut icon" href="/favicon/favicon.ico">
		<link rel="icon" sizes="16x16 32x32 64x64" href="/favicon/favicon.ico">
		<link rel="icon" type="image/png" sizes="196x196" href="/favicon/favicon-192.png">
		<link rel="icon" type="image/png" sizes="160x160" href="/favicon/favicon-160.png">
		<link rel="icon" type="image/png" sizes="96x96" href="/favicon/favicon-96.png">
		<link rel="icon" type="image/png" sizes="64x64" href="/favicon/favicon-64.png">
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16.png">
		<link rel="apple-touch-icon" href="/favicon/favicon-57.png">
		<link rel="apple-touch-icon" sizes="114x114" href="/favicon/favicon-114.png">
		<link rel="apple-touch-icon" sizes="72x72" href="/favicon/favicon-72.png">
		<link rel="apple-touch-icon" sizes="144x144" href="/favicon/favicon-144.png">
		<link rel="apple-touch-icon" sizes="60x60" href="/favicon/favicon-60.png">
		<link rel="apple-touch-icon" sizes="120x120" href="/favicon/favicon-120.png">
		<link rel="apple-touch-icon" sizes="76x76" href="/favicon/favicon-76.png">
		<link rel="apple-touch-icon" sizes="152x152" href="/favicon/favicon-152.png">
		<link rel="apple-touch-icon" sizes="180x180" href="/favicon/favicon-180.png">
		<meta name="msapplication-TileColor" content="#FFFFFF">
		<meta name="msapplication-TileImage" content="/favicon/favicon-144.png">
		<meta name="msapplication-config" content="/favicon/browserconfig.xml">

		<link rel="stylesheet" href="w3.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		<script src="scores.js"></script>
		<script src="cards.js"></script>
		<script>
			$(document).ready( function() {
				$("#packSubmit").on("click", function() {
					$('input[name=pack]:checked').each(function(index,element) {
						packList[element.value].enabled = true;
						loadPack(packList[element.value], cardPool);
					})
			    });

			    $("#playerSubmit").on("click", function() {
			    	//Adds a player to the scoreboard
			    	$inputName = $("input[name=playerName]").val();
			    	$removeFunc = `removePlayer("` + $inputName + `", gameScoreboard)`;
			    	if (addPlayer($inputName, gameScoreboard) == 1) {
			    		//Successfully added player to scoreboard, add player name to list
			    		$("#playerList").append("<li type='none' class='w3-padding'><input class='players button-remove' type='button' value='&times;' onclick='" + $removeFunc + "' >    " + $inputName + "</li>");
			    		$("#errorPlayer").hide();
			    	}
			    	else {
			    		//Player already exists, check if error message already present
		    			$("#errorPlayer").show();
			    	}
			    });

			    $(document).on('click','input.players',function() {
			    	//Removes a player by removing the parent div element when a button is clicked
				    $(this).parent().remove();
				});

				$("#drawCard").on("click", function() {
					//When button pressed, replaces text with a random card
					$("#cardText").text(drawCard(cardPool));
				});

		    	$("#toggleScoreboard").on("click", function() {
		    		//Toggles scoreboard when clicked
					$("#scoreboard").toggle();
		    	});

		    	$(document).on('click',"li.playerScores",function() {
		    		//Updates the scoreboard whenever any buttons in it are clicked
			    	drawScoreboard(gameScoreboard);
			    });
		    });
		</script>
	</head>
	
	<body>
	<div id="title" class="CAH-card">
		<h1><b>Cards Against Humanity Black Card Generator.</b></h1>
	</div>	

	<div id="startUp" class="tab w3-center">
	<button type="button" autofocus onclick="menuPack()"><b>Start New Game.</b></button>
	</div>

	<div id="packSelect" class="tab w3-display-container" style="display:none">
		<h3 class="w3-black w3-text-white w3-card-2 w3-center"><b>Select packs to use.</b></h3>
		<div class="w3-cell-row w3-table">
			<div id="base" class="w3-cell w3-card-2 w3-mobile w3-round-large w3-padding-large w3-black w3-text-white">
			<h2><b>Base Packs.</b></h2>
			</div>
			
			
			<div id="expan" class="w3-cell w3-card-2 w3-mobile w3-round-large w3-padding-large w3-black w3-text-white">
			<h2><b>Expansion Packs.</b></h2>
			</div>

			
			<div id="misc" class="w3-cell w3-card-2 w3-mobile w3-round-large w3-padding-large w3-black w3-text-white">
			<h2><b>Misc Packs.</b></h2>
			</div>
		</div>

		<div class="w3-center w3-padding">
			<input id="packSubmit" class="w3-btn w3-round-large w3-block w3-black w3-text-white" type="button" value="Done." onclick="menuPlayer()">
		</div>
		
	</div>

	<div id="addPlayers" class="tab w3-black w3-text-white w3-round-large" style="display: none; width: 75%">
		<h2><b>Players.</b></h2>
		<input type="text" name="playerName" class="w3-card-2" value="Player"><input id="playerSubmit" type="button" class="w3-round-large w3-btn w3-round-large w3-black w3-text-white" value="Add">
		<div id='errorPlayer' class='w3-panel w3-red' style="display: none">That player already exists!</div>
		<ul id="playerList" class="w3-ul w3-card-2">

		</ul>
		<br>
		<input id="playerFinished" type="button" class="w3-btn w3-round-large w3-black w3-text-white" value="Start the game." onclick="menuGame()">
  	</div>

	<div id="playGame" class="tab w3-round-large " style="display: none">
		<div class="w3-center w3-black w3-text-white">
		<h2><b>Play.</b></h2>
		<input type="button" id="drawCard" class="w3-btn w3-round-large w3-black w3-text-white" value="Draw Card">
		<input type="button" id="toggleScoreboard" class="w3-btn w3-round-large w3-black w3-text-white" value="Toggle Scoreboard">
		</div>
		<div id="scoreboard" class="w3-display-left w3-round-large w3-black w3-padding w3-text-white w3-card-4" style="display: none">
			<ul id="scoreList" class="w3-ul">
			</ul>
		</div>
		<br>
		<div id="cardHolder" class="w3-row">
			<div class="w3-container w3-round-large w3-black w3-padding w3-text-white w3-card-4 w3-left w3-display-bottommiddle" style="width: 26%; height: 70%"><h4 class="w3-padding-large"><b id="cardText"></b></h4></div>
		</div>

  	</div>

  	</body>

</html>